/*
 * thrust
 *
 * Copyright (C) 2018 AbbeyCat (abbeycatuk@gmail.com)
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file for details.
 */

/* global game, landscape, canvas, limpets, reactor, ship, ball, pods, fuel, door_type, door_state */

function level_init() {

    if ( !game.fuel ) {
        game.fuel = 1000;
    }
    
    landscape_init();
    ship_init();
    ball_init();
    stars_init();
    particle_init();
    reactor_init();
    fuel_init();
    limpet_init();
    door_init();

    switch ( game.level ) {
        case 1 : level_1();
            break;
        case 2 : level_2();
            break;
        case 3 : level_3();
            break;
        case 4 : level_4();
            break;
        case 5 : level_5();
            break;
        case 6 : level_6();
            break;
    }
    
    // ensure screen co-ords are available from the very outset
    ship_screen_coords();
    ball_screen_coords();
    reactor_screen_coords();
    fuel_screen_coords();
    limpet_screen_coords();
    door_screen_coords();
    
}

function level_1() {

    // ship
    ship.current.x      = canvas.width / 2;
    ship.current.y      = -canvas.height / 4;
    ship.previous.x     = ship.current.x;
    ship.previous.y     = ship.current.y;

    // ball
    ball.current.x      = 280;
    ball.current.y      = 39;
    ball.previous.x     = ball.current.x;
    ball.previous.y     = ball.current.y;

    // limpets
    limpets.push(
        {
            current     : { x : 230, y: 30 },
            screen      : { x : 0, y : 0 },
            direction   : 1
        }
    );

    // fuel
    pods.push( {
        current   : { x: 160, y: 15 },
        screen    : { x: 0, y: 0 },
        width     : fuel.width,
        height    : fuel.height,
        remaining : fuel.capacity
    });

    // reactor
    reactor.current.x   = 360;
    reactor.current.y   = -11;

    landscape.colour = '#ff0000';
    
    scenery = [

    0          , 450 - 1*2,
    70 +  0*4  , 450 - 2*2,
    70 +  1*4  , 450 - 3*2,
    70 +  2*4  , 450 - 4*2,
    70 +  3*4  , 450 - 5*2,
    70 +  4*4  , 450 - 6*2,
    70 +  5*4  , 450 - 7*2,
    70 +  6*4  , 450 - 8*2,
    70 +  7*4  , 450 - 9*2,
    
    70 +  8*4  , 352,
    70 +  9*4  , 352,
    70 + 10*4  , 352,
    70 + 11*4  , 352,
    70 + 12*4  , 352,
    70 + 13*4  , 352,
    
    220 +  0*4 , 352,
    220 +  1*4 , 352,
    220 +  2*4 , 352,
    220 +  3*4 , 352,
    220 +  4*4 , 352,
    220 +  5*4 , 352,
    220 +  6*4 , 352,
    220 +  7*4 , 352,
    220 +  8*4 , 352,
    220 +  9*4 , 352,
    220 + 10*4 , 352,
    220 + 11*4 , 352,
    220 + 12*4 , 352

];

}

function level_2() {
    
    // ship
    ship.current.x      = canvas.width / 2;
    ship.current.y      = -canvas.height / 4;
    ship.previous.x     = ship.current.x;
    ship.previous.y     = ship.current.y;

    // ball
    ball.current.x      = 365;
    ball.current.y      = 282;
    ball.previous.x     = ball.current.x;
    ball.previous.y     = ball.current.y;

    // limpets
    limpets.push(
        {
            current     : { x : 310, y: 200 },
            screen      : { x : 0, y : 0 },
            direction   : 4
        }
    );
    limpets.push(
        {
            current     : { x : 480, y: 182 },
            screen      : { x : 0, y : 0 },
            direction   : 3
        }
    );

    // fuel
    pods.push( {
        current   : { x: 405, y: 283 },
        screen    : { x: 0, y: 0 },
        width     : fuel.width,
        height    : fuel.height,
        remaining : fuel.capacity
    });

    // reactor
    reactor.current.x   = 250;
    reactor.current.y   = - 3;

    landscape.colour = '#00ff00';

    // NB: take image, rescale to 1280 horizontal, then halved the x values
    scenery = [

    170 +  0*4  , 570 -  0*4,
    170 +  1*4  , 570 -  1*4,
    170 +  2*4  , 570 -  2*4,
    170 +  3*4  , 570 -  3*4,
    170 +  4*4  , 570 -  4*4,
    170 +  5*4  , 570 -  5*4,
    170 +  6*4  , 570 -  6*4,
    170 +  7*4  , 570 -  7*4,
    170 +  8*4  , 570 -  8*4,
    170 +  9*4  , 570 -  9*4,
    170 + 10*4  , 570 - 10*4,
    170 + 11*4  , 570 - 11*4,
    170 + 12*4  , 570 - 12*4,
    
    280 +  0*4  , 570 - 13*4,
    280 +  1*4  , 570 - 14*4,
    280 +  2*4  , 570 - 15*4,
    280 +  3*4  , 570 - 16*4,
    280 +  4*4  , 570 - 17*4,
    280 +  5*4  , 570 - 18*4,
    280 +  6*4  , 570 - 19*4,
    280 +  7*4  , 570 - 20*4,
    280 +  8*4  , 570 - 21*4,
    280 +  9*4  , 570 - 22*4,
    280 + 10*4  , 570 - 23*4,
    280 + 11*4  , 570 - 24*4,
    280 + 12*4  , 570 - 25*4,
    280 + 13*4  , 570 - 26*4,
    280 + 14*4  , 570 - 27*4,
    280 + 15*4  , 570 - 27*4,
    280 + 16*4  , 570 - 27*4,
    280 + 17*4  , 570 - 27*4,
    280 + 18*4  , 570 - 27*4,
    280 + 19*4  , 570 - 27*4,
    280 + 20*4  , 570 - 27*4,
    280 + 21*4  , 570 - 27*4,
    280 + 22*4  , 570 - 27*4,

    280 + 22*4  , 570 - 27*4,
    280 + 22*4  , 570 - 27*4,
    280 + 22*4  , 570 - 27*4,
    280 + 22*4  , 570 - 27*4,
    280 + 22*4  , 570 - 27*4,
    280 + 22*4  , 570 - 27*4,
    280 + 22*4  , 570 - 27*4,
    280 + 22*4  , 570 - 27*4,
    280 + 22*4  , 570 - 27*4,
    280 + 22*4  , 570 - 27*4,
    280 + 22*4  , 570 - 27*4,
    280 + 22*4  , 570 - 27*4,
    280 + 22*4  , 570 - 27*4,
    280 + 22*4  , 570 - 27*4,
    280 + 22*4  , 570 - 27*4,
    280 + 22*4  , 570 - 27*4,
    280 + 22*4  , 570 - 27*4,
    280 + 22*4  , 570 - 27*4,
    280 + 22*4  , 570 - 27*4,
    280 + 22*4  , 570 - 27*4,
    280 + 22*4  , 570 - 27*4,
    280 + 22*4  , 570 - 27*4,
    280 + 22*4  , 570 - 27*4,
    280 + 22*4  , 570 - 27*4,
    280 + 22*4  , 570 - 27*4,
    280 + 22*4  , 570 - 27*4,
    280 + 22*4  , 570 - 27*4,
    280 + 22*4  , 570 - 27*4,
    280 + 22*4  , 570 - 27*4,
    280 + 22*4  , 570 - 27*4,
    280 + 22*4  , 570 - 27*4,
    280 + 22*4  , 570 - 27*4,
    280 + 22*4  , 570 - 27*4,
    280 + 22*4  , 570 - 27*4,
    280 + 22*4  , 570 - 27*4,
    280 + 22*4  , 570 - 27*4,
    280 + 22*4  , 570 - 27*4,
    280 + 22*4  , 570 - 27*4,
    280 + 22*4  , 570 - 27*4,
    280 + 22*4  , 570 - 27*4,
    280 + 22*4  , 570 - 27*4,
    280 + 22*4  , 570 - 27*4,
    280 + 22*4  , 570 - 27*4,
    280 + 22*4  , 570 - 27*4,
    280 + 22*4  , 570 - 27*4,
    280 + 22*4  , 570 - 27*4,
    280 + 22*4  , 570 - 27*4,
    280 + 22*4  , 570 - 27*4,
    280 + 22*4  , 570 - 27*4,
    280 + 22*4  , 570 - 27*4,
    280 + 22*4  , 570 - 27*4,
    280 + 22*4  , 570 - 26*4,
    280 + 22*4  , 570 - 25*4,
    280 + 22*4  , 570 - 24*4,
    280 + 22*4  , 570 - 23*4,

    280 + 21*4  , 570 - 22*4,
    280 + 20*4  , 570 - 21*4,
    280 + 19*4  , 570 - 20*4,
    280 + 18*4  , 570 - 19*4,
    280 + 17*4  , 570 - 18*4,
    280 + 16*4  , 570 - 17*4,
    280 + 15*4  , 570 - 16*4,
    280 + 14*4  , 570 - 15*4,
    280 + 13*4  , 570 - 14*4,
    280 + 12*4  , 570 - 13*4,
    280 + 11*4  , 570 - 12*4,
    280 + 10*4  , 570 - 11*4,
    280 +  9*4  , 570 - 10*4,
    
    280 +  8*4  , 570 - 10*4,
    280 +  7*4  , 570 - 10*4,
    280 +  6*4  , 570 - 10*4,
    280 +  5*4  , 570 - 10*4,
    280 +  4*4  , 570 - 10*4,
    280 +  3*4  , 570 - 10*4,
    280 +  2*4  , 570 - 10*4,
    280 +  1*4  , 570 - 10*4,
    280 +  0*4  , 570 - 10*4,
    280 + -1*4  , 570 - 10*4,

    280 + -1*4  , 570 - 10*4,
    280 + -1*4  , 570 - 10*4,
    280 + -1*4  , 570 - 10*4,
    280 + -1*4  , 570 - 10*4,
    280 + -1*4  , 570 - 10*4,
    280 + -1*4  , 570 - 10*4,
    280 + -1*4  , 570 - 10*4,
    280 + -1*4  , 570 - 10*4,
    280 + -1*4  , 570 - 10*4,
    280 + -1*4  , 570 - 10*4,
    
    280 + -1*4  , 570 - 11*4,
    280 + -1*4  , 570 - 12*4,
    280 + -1*4  , 570 - 13*4,
    280 + -1*4  , 570 - 14*4,
    280 + -1*4  , 570 - 15*4,
    280 + -1*4  , 570 - 16*4,
    280 + -1*4  , 570 - 17*4,
    280 + -1*4  , 570 - 18*4,
    280 + -1*4  , 570 - 19*4,
    280 + -1*4  , 570 - 20*4,

    280 +  0*4  , 570 - 21*4,
    280 +  1*4  , 570 - 22*4,
    280 +  2*4  , 570 - 23*4,
    280 +  3*4  , 570 - 24*4,
    280 +  4*4  , 570 - 25*4,
    280 +  5*4  , 570 - 26*4,
    280 +  6*4  , 570 - 27*4,
    280 +  7*4  , 570 - 28*4,
    280 +  8*4  , 570 - 29*4,
    280 +  9*4  , 570 - 30*4,
    280 + 10*4  , 570 - 31*4,
    280 + 11*4  , 570 - 32*4,
    280 + 12*4  , 570 - 33*4,
    280 + 13*4  , 570 - 34*4,
    280 + 14*4  , 570 - 35*4

];

}

function level_3() {
    
    // ship
    ship.current.x      = 600;
    ship.current.y      = -canvas.height / 4;
    ship.previous.x     = ship.current.x;
    ship.previous.y     = ship.current.y;
    
    landscape.x = 400;
    
    // ball
    ball.current.x      = 220;
    ball.current.y      = 560;
    ball.previous.x     = ball.current.x;
    ball.previous.y     = ball.current.y;

    // limpets
    limpets.push(
        {
            current     : { x : 416, y: 162 },
            screen      : { x : 0, y : 0 },
            direction   : 4
        }
    );
    limpets.push(
        {
            current     : { x : 586, y: 204 },
            screen      : { x : 0, y : 0 },
            direction   : 2
        }
    );
    limpets.push(
        {
            current     : { x : 252, y: 286 },
            screen      : { x : 0, y : 0 },
            direction   : 4
        }
    );
    limpets.push(
        {
            current     : { x : 148, y: 370 },
            screen      : { x : 0, y : 0 },
            direction   : 4
        }
    );
    limpets.push(
        {
            current     : { x : 272, y: 447 },
            screen      : { x : 0, y : 0 },
            direction   : 2
        }
    );

    // fuel
    pods.push( {
        current   : { x: 504, y: 209 },
        screen    : { x: 0, y: 0 },
        width     : fuel.width,
        height    : fuel.height,
        remaining : fuel.capacity
    });
    pods.push( {
        current   : { x: 524, y: 209 },
        screen    : { x: 0, y: 0 },
        width     : fuel.width,
        height    : fuel.height,
        remaining : fuel.capacity
    });
    pods.push( {
        current   : { x: 544, y: 209 },
        screen    : { x: 0, y: 0 },
        width     : fuel.width,
        height    : fuel.height,
        remaining : fuel.capacity
    });
    pods.push( {
        current   : { x: 390, y: 331 },
        screen    : { x: 0, y: 0 },
        width     : fuel.width,
        height    : fuel.height,
        remaining : fuel.capacity
    });
    pods.push( {
        current   : { x: 310, y: 433 },
        screen    : { x: 0, y: 0 },
        width     : fuel.width,
        height    : fuel.height,
        remaining : fuel.capacity
    });

    // reactor
    reactor.current.x   = 550;
    reactor.current.y   =  11;

    landscape.colour = '#00ffff';

    // NB: take image, rescale to 1280 horizontal, then halved the x values
    scenery = [

    440,    616,
    440,    616,
    440,    616,
    440,    616,
    440,    616,
    440,    616,
    440,    616,
    440,    616,
    440,    616,
    440,    616,
    440,    616,
    440,    616,
    440,    616,
    440,    616,
    440,    616,
    440,    616,
    440,    616,
    440,    616,
    440,    616,
    440,    616,
    440,    524,
    440,    524,
    440,    524,
    440,    524,
    440,    524,
    440,    524,
    440,    524,
    440,    524,
    440,    524,
    440,    524,
    440,    524,
    440,    524,
    440,    524,
    440,    524,
    440,    524,
    440,    524,
    440,    524,
    440,    524,
    440,    524,
    440,    524,
    440,    524,
    440,    524,
    440,    524,
    440,    524,
    440,    524,
    440,    524,
    440,    524,
    440,    524,
    440,    524,
    440,    524,
    440,    524,
    440,    524,
    440,    524,
    440,    524,
    440,    524,
    440,    524,
    440,    524,
    440,    524,
    440,    524,
    440,    524,
    440,    524,
    440,    524,
    440,    524,
    440,    524,
    440,    524,
    440,    524,
    440,    524,
    440,    524,
    440,    524,
    440,    524,
    440,    524,
    440,    524,
    440,    524,
    440,    524,
    440,    524,
    440,    524,
    440,    524,
    440,    524,
    440,    524,
    440,    524,
    440,    524,
    
    440 -  1*4,     620,
    440 -  2*4,     620,
    440 -  3*4,     620,
    440 -  4*4,     620,
    440 -  5*4,     620,
    440 -  6*4,     620,
    440 -  7*4,     620,
    440 -  8*4,     620,
    440 -  9*4,     620,
    440 - 10*4,     620,
    
    440 - 10*4,     620,
    440 - 10*4,     620,
    440 - 10*4,     620,
    440 - 10*4,     620,
    440 - 10*4,     620,
    440 - 10*4,     620,
    440 - 10*4,     620,
    440 - 10*4,     620,
    440 - 10*4,     620,
    440 - 10*4,     620,
    440 - 10*4,     620,
    440 - 10*4,     620 -  1*4,
    440 - 10*4,     620 -  2*4,
    440 - 10*4,     620 -  3*4,
    440 - 10*4,     620 -  4*4,
    440 - 10*4,     620 -  5*4,
    440 - 10*4,     620 -  6*4,
    440 - 10*4,     620 -  7*4,
    440 - 10*4,     620 -  8*4,
    440 - 10*4,     620 -  9*4,
    440 - 10*4,     620 - 10*4,
    440 - 10*4,     500,
    440 - 10*4,     500,
    440 - 10*4,     500,
    440 - 10*4,     500,
    440 - 10*4,     500,
    440 - 10*4,     500,
    440 - 10*4,     500,
    440 - 10*4,     500,
    440 - 10*4,     500,
    440 - 10*4,     500,
    440 - 10*4,     500,
    440 - 10*4,     500,
    440 - 10*4,     500,
    440 - 10*4,     500,
    440 - 10*4,     500,
    440 - 10*4,     500,
    440 - 10*4,     500,
    440 - 10*4,     500,
    440 - 10*4,     500,
    440 - 10*4,     500,
    440 - 10*4,     500,
    440 - 10*4,     500,
    440 - 10*4,     500,
    440 - 10*4,     500,
    440 - 10*4,     500,
    440 - 10*4,     500,
    440 - 10*4,     500,
    440 - 10*4,     500,
    440 - 10*4,     500,
    
    280,            500,
    280 -  1*4,     500,
    280 -  2*4,     500,
    280 -  3*4,     500,
    280 -  4*4,     500,
    280 -  5*4,     500,
    280 -  6*4,     500,
    280 -  7*4,     500,
    280 -  8*4,     500,
    280 -  9*4,     500,
    280 - 10*4,     500,
    
    280 - 10*4,     500,
    280 - 10*4,     500,
    280 - 10*4,     500,
    280 - 10*4,     500,
    280 - 10*4,     500,
    280 - 10*4,     500,
    280 - 10*4,     500,
    280 - 10*4,     500,
    280 - 10*4,     500,
    280 - 10*4,     500,
    280 - 10*4,     500,
    280 - 10*4,     500,
    280 - 10*4,     500,
    280 - 10*4,     500,
    280 - 10*4,     500,
    280 - 10*4,     500,
    280 - 10*4,     500,
    280 - 10*4,     500,
    280 - 10*4,     500,
    280 - 10*4,     500,
    280 - 10*4,     500,
    280 - 10*4,     380,
    280 - 10*4,     380,
    280 - 10*4,     380,
    280 - 10*4,     380,
    280 - 10*4,     380,
    280 - 10*4,     380,
    280 - 10*4,     380,
    280 - 10*4,     380,
    280 - 10*4,     380,

    180,            380,
    180 -  1*4,     380,
    180 -  2*4,     380,
    180 -  3*4,     380,
    180 -  4*4,     380,
    180 -  5*4,     380,
    180 -  6*4,     380,
    180 -  7*4,     380,
    180 -  8*4,     380,
    180 -  9*4,     380,
    180 - 10*4,     380,
    
    180 - 10*4,     380,
    180 - 10*4,     380,
    180 - 10*4,     380,
    180 - 10*4,     380,
    180 - 10*4,     380,
    180 - 10*4,     380,
    180 - 10*4,     380,
    180 - 10*4,     380,
    180 - 10*4,     380,
    180 - 10*4,     380,
    180 - 10*4,     380,
    180 - 10*4,     380,
    180 - 10*4,     380,
    180 - 10*4,     380,
    180 - 10*4,     380,
    180 - 10*4,     380,
    180 - 10*4,     380,
    180 - 10*4,     380,
    180 - 10*4,     380,
    180 - 10*4,     380,
    180 - 10*4,     380,
    180 - 10*4,     380,
    180 - 10*4,     380,
    180 - 10*4,     380,
    180 - 10*4,     380,
    180 - 10*4,     380,
    180 - 10*4,     380,
    180 - 10*4,     380,
    180 - 10*4,     380,
    180 - 10*4,     380,
    180 - 10*4,     380,
    180 - 10*4,     300,
    180 - 10*4,     300 - 1*4,
    180 - 10*4,     300 - 2*4,
    180 - 10*4,     300 - 3*4,
    180 - 10*4,     300 - 4*4,
    180 - 10*4,     300 - 5*4,
    180 - 10*4,     300 - 6*4,
    180 - 10*4,     300 - 7*4,
    180 - 10*4,     300 - 8*4,
    180 - 10*4,     300 - 9*4,
    180 - 10*4,     264,
    180 - 10*4,     264,
    180 - 10*4,     264,
    180 - 10*4,     264,
    180 - 10*4,     264,
    180 - 10*4,     264,
    180 - 10*4,     264,
    180 - 10*4,     264,
    180 - 10*4,     264,
    180 - 10*4,     264,
    180 - 10*4,     264,
    180 - 10*4,     264,
    180 - 10*4,     264,
    180 - 10*4,     264,
    180 - 10*4,     264,
    180 - 10*4,     264,
    180 - 10*4,     264,
    180 - 10*4,     264,
    180 - 10*4,     264,
    180 - 10*4,     264,
    180 - 10*4,     264,
    180 - 10*4,     264,
    180 - 10*4,     264,
    180 - 10*4,     264,
    180 - 10*4,     264,
    180 - 10*4,     264,
    180 - 10*4,     264,
    180 - 10*4,     264,
    180 - 10*4,     264,
    180 - 10*4,     264,
    180 - 10*4,     264,
    180 - 10*4,     264,
    180 - 10*4,     264,
    180 - 10*4,     264,
    180 - 10*4,     264,
    180 - 10*4,     264,
    180 - 10*4,     264,
    180 - 10*4,     264,
    180 - 10*4,     264,
    180 - 10*4,     264,
    180 - 10*4,     264,
    180 - 10*4,     264,
    180 - 10*4,     264,
    180 - 10*4,     264,

    140 +  1*4,     264,
    140 +  2*4,     264,
    140 +  3*4,     264,
    140 +  4*4,     264,
    140 +  5*4,     264,
    140 +  6*4,     264,
    140 +  7*4,     264,
    140 +  8*4,     264,
    140 +  9*4,     264,
    140 + 10*4,     264
    
];

}

function level_4() {
    
    // ship
    ship.current.x      = canvas.width / 2;
    ship.current.y      = -canvas.height / 4;
    ship.previous.x     = ship.current.x;
    ship.previous.y     = ship.current.y;
    
    landscape.x = 0;
    
    // ball
    ball.current.x      = 477;
    ball.current.y      = 631;
    ball.previous.x     = ball.current.x;
    ball.previous.y     = ball.current.y;

    // limpets
    limpets.push(
        {
            current     : { x : 264, y: 596/2-100 },
            screen      : { x : 0, y : 0 },
            direction   : 1
        }
    );
    limpets.push(
        {
            current     : { x : 353, y: 396/2-100 },
            screen      : { x : 0, y : 0 },
            direction   : 4
        }
    );
    limpets.push(
        {
            current     : { x : 547, y: 568 },
            screen      : { x : 0, y : 0 },
            direction   : 2
        }
    );
    limpets.push(
        {
            current     : { x : 450, y: 1174/2-100 },
            screen      : { x : 0, y : 0 },
            direction   : 4
        }
    );
    limpets.push(
        {
            current     : { x : 254, y: 680/2-100 },
            screen      : { x : 0, y : 0 },
            direction   : 4
        }
    );
    limpets.push(
        {
            current     : { x : 384, y: 732/2-100 },
            screen      : { x : 0, y : 0 },
            direction   : 3
        }
    );
    limpets.push(
        {
            current     : { x : 338, y: 894/2-100 },
            screen      : { x : 0, y : 0 },
            direction   : 1
        }
    );

    // fuel
    pods.push( {
            current   : { x: 484, y: 934/2-100 },
            screen    : { x: 0, y: 0 },
            width     : fuel.width,
            height    : fuel.height,
            remaining : fuel.capacity
        });
        
    // door
    door = {
        current         : { x: 526, y: 1008/2-100 },
        screen          : { x: 0, y: 0 },
        widths          : [ 70,70,70,70,70,70,70,70,70,70,70,70,70 ],
        type            : door_type.LEFT_RIGHT,
        state           : door_state.CLOSED,
        timer           : 2000, // ms delay before starts closing again
        switches        : [
                            { current : { x: 587, y:  914/2-100 }, screen: { x: 0, y: 0 }, left: true },
                            { current : { x: 587, y: 1130/2-100 }, screen: { x: 0, y: 0 }, left: true } 
                          ],
        offset          : 0,
        offset_limit    : 100 // pixels
    };
    
    // reactor
    reactor.current.x   = 260;
    reactor.current.y   = 822/2-100;

    landscape.colour = '#00ff00';

    // NB: take image, rescale to 1280 horizontal, then halved the x values
    scenery = [

    260,            460,
    260 +  1*4,  460,
    260 +  2*4,  460,
    260 +  3*4,  460,
    260 +  4*4,  460,
    260 +  5*4,  460,
    260 +  6*4,  460,
    260 +  7*4,  460,
    260 +  8*4,  460,
    260 +  9*4,  460,
    260 + 10*4,  460,
    260 + 11*4,  460,
    260 + 12*4,  460,
    260 + 13*4,  460,
    260 + 14*4,  460,
    260 + 15*4,  460,
    260 + 16*4,  460,
    260 + 17*4,  460,
    260 + 18*4,  460,
    260 + 19*4,  460,
    
    405,  460,
    405,  460,
    405,  460,
    405,  460,
    405,  460,
    405,  460,
    405,  460,
    405,  460,
    405,  460,
    405,  460,
    405,  460,
    405,  460,
    405,  460,
    405,  460,
    405,  460,
    405,  460,
    405,  460,
    405,  460,
    405,  460,
    405,  460,
    405,  460,
    405,  460,
    
    405 -  1*4,  460,
    405 -  2*4,  460,
    405 -  3*4,  460,
    405 -  4*4,  460,
    405 -  5*4,  460,
    405 -  6*4,  460,
    405 -  7*4,  460,
    405 -  8*4,  460,
    405 -  9*4,  460,
    405 - 10*4,  460,
    405 - 11*4,  460,
    405 - 12*4,  460,
    405 - 13*4,  460,
    405 - 14*4,  460,
    405 - 15*4,  460,
    405 - 16*4,  460,
    405 - 17*4,  460,
    405 - 18*4,  460,
    405 - 19*4,  460,
    405 - 20*4,  460,
    405 - 21*4,  460,
    405 - 22*4,  460,
    405 - 23*4,  460,
    405 - 24*4,  460,
    405 - 25*4,  460,
    405 - 26*4,  460,
    405 - 27*4,  460,
    405 - 28*4,  460,
    405 - 29*4,  460,
    405 - 30*4,  460,
    405 - 31*4,  460,
    405 - 32*4,  460,
    405 - 33*4,  460,
    405 - 34*4,  460,
    405 - 35*4,  460,
    405 - 36*4,  460,
    405 - 37*4,  460,
    
    254,  460,
    254,  460,
    254,  460,
    254,  460,
    254,  460,
    254,  460,
    254,  460,
    254,  460,
    254,  460,
    254,  460,
    254,  460,
    254,  460,
    254,  460,
    254,  460,
    254,  460,
    254,  460,
    254,  460,
    254,  460,
    254,  460,
    254,  460,
    254,  460,
    
    254 + 1*4,  460,
    254 + 2*4,  460,
    254 + 3*4,  460,
    254 + 4*4,  460,
    254 + 5*4,  340,
    254 + 6*4,  340,
    254 + 7*4,  340,
    254 + 8*4,  340,
    254 + 9*4,  340,
    
    294,  340,
    294,  340,
    294,  340,
    294,  340,
    294,  340,
    294,  340,
    294,  340,

    294 -  1*4,  340,
    294 -  2*4,  340,
    294 -  3*4,  340,
    294 -  4*4,  340,
    294 -  5*4,  340,
    294 -  6*4,  340,
    294 -  7*4,  340,
    294 -  8*4,     340 + 1*4,
    294 -  9*4,     340 + 2*4,
    294 - 10*4,     340 + 3*4,
    294 - 11*4,     340 + 4*4,
    294 - 12*4,     340 + 5*4,
    294 - 13*4,     340 + 6*4,
    294 - 14*4,     340 + 7*4,
    294 - 15*4,     340 + 8*4,
    294 - 16*4,     340 + 9*4,
    294 - 17*4,     340 + 10*4,
    294 - 18*4,     340 + 11*4,
    294 - 19*4,     340 + 12*4,
    
    214,     340 + 13*4,
    214,     340 + 14*4,
    214,     340 + 15*4,
    214,     340 + 16*4,
    214,     340 + 17*4,
    214,     340 + 18*4,
    214,     340 + 19*4,
    214,     340 + 20*4,
    214,     340 + 21*4,
    214,     340 + 22*4,
    214,     340 + 23*4,
    214,     340 + 24*4,
    214,        596,
    214,        596,
    214,        596,
    214,        596,
    214,        596,
    214,        596,
    214,        596,
    214,        596,
    214,        596,
    214,        596,
    214,        596,
    214,        596,
    214,        596,
    214,        596,
    214,        596,
    214,        596,
    214,        596,
    214,        596,
    214,        596,
    214,        596,
    214,        596,
    214,        596,
    214,        596,

    314,        596,
    314 +  1*4,        596,
    314 +  2*4,        596,
    314 +  3*4,        596,
    314 +  4*4,        596,
    314 +  5*4,        596,
    314 +  6*4,        596,
    314 +  7*4,        596,
    314 +  8*4,        596,
    314 +  9*4,        596,
    314 + 10*4,        596,
    314 + 11*4,        596,
    314 + 12*4,        596,
    314 + 13*4,        596,
    314 + 14*4,        596,
    314 + 15*4,        596,
    314 + 16*4,        596,
    314 + 17*4,        596,
    314 + 18*4,        596,
    314 + 19*4,        596,
    314 + 20*4,        596,
    
    526,        596,
    526,        596,
    526,        596,
    526,        596,
    526,        596,
    526,        596,
    526,        596,
    526,        596,
    526,        596,
    526,        596,
    526,        596,
    526,        596,
    526,        596,
    526,        596,
    526,        596,
    526,        596,
    526,        596,
    526,        596,
    526,        596,
    526,        596,
    526,        596,
    526,        596,
    526,        596,
    526,        596,
    526,        596,
    526,        596,
    526,        596,
    526,        596,
    526,        596,
    526,        596,
    526,        596,
    526,        596,
    526,        596,
    526,        596,
    526,        596,
    526,        596,
    526,        596,
    526,        596,
    526,        596,
    
    526 -  1*4,        596,
    526 -  2*4,        596,
    526 -  3*4,        596,
    526 -  4*4,        596,
    526 -  5*4,        596,
    526 -  6*4,        596,
    526 -  7*4,        596,
    526 -  8*4,        596,
    526 -  9*4,        596,
    526 - 10*4,        596,
    526 - 11*4,        596,
    526 - 12*4,        596,
    526 - 13*4,        596,
    526 - 14*4,        596,
    526 - 15*4,        596,
    526 - 16*4,        596,
    526 - 17*4,        596,
    526 - 18*4,        596,
    526 - 19*4,        596,
    526 - 20*4,        596,
    526 - 21*4,        596,
    526 - 22*4,        596,
    526 - 23*4,        596,
    526 - 24*4,        596,
    526 - 25*4,        596,
    526 - 26*4,        596,
    526 - 27*4,        596,
    
    414,        596,
    414,        596,
    414,        596,
    414,        596,
    414,        596,
    414,        596,
    414,        596,
    414,        596,
    414,        596,
    414,        596,
    414,        596,
    414,        596,
    414,        596,
    414,        596,
    414,        596,
    414,        596,
    414,        596,
    414,        596,
    414,        596,
    414,        596,
    414,        596,
    414,        596,
    414,        596,
    414,        596 -  1*4,
    414,        596 -  2*4,
    414,        596 -  3*4,
    414,        596 -  4*4,
    414,        596 -  5*4,
    414,        596 -  6*4,
    414,        596 -  7*4,
    414,        596 -  8*4,
    414,        596 -  9*4,
    414,        596 - 10*4,
    414,        596 - 11*4,
    414,        596 - 12*4,
    414,        596 - 13*4,
    414,        596 - 14*4,

    414 + 1*4,        596 - 15*4,
    414 + 2*4,        596 - 16*4,
    414 + 3*4,        596 - 17*4,
    414 + 4*4,        596 - 18*4,
    414 + 5*4,        596 - 19*4,
    414 + 6*4,        596 - 20*4,
    414 + 7*4,        596 - 21*4,
    414 + 8*4,        596 - 22*4,
    414 + 9*4,        596 - 23*4,
    
    454,    500,
    454,    500,
    454,    500,
    454,    500,
    454,    500,
    454,    500,
    454,    500,
    454,    500,
    454,    500,
    454,    500,
    454,    500,
    454,    500,
    454,    500,
    454,    500,
    454,    500,
    454,    500,
    454,    500,
    454,    500,
    454,    500,
    454,    500,
    454,    500
    
];

}

function level_5() {
    
    // ship
    ship.current.x      = canvas.width / 2;
    ship.current.y      = -canvas.height / 4;
    ship.previous.x     = ship.current.x;
    ship.previous.y     = ship.current.y;
    
    landscape.x = 0;
    
    // ball
    ball.current.x      = 524;
    ball.current.y      = 1032;
    ball.previous.x     = ball.current.x;
    ball.previous.y     = ball.current.y;

    // limpets
    limpets.push(
        {
            current     : { x : 552, y: 2084/2-100 },
            screen      : { x : 0, y : 0 },
            direction   : 3
        }
    );
    limpets.push(
        {
            current     : { x : 236, y: 1710/2-100 },
            screen      : { x : 0, y : 0 },
            direction   : 1
        }
    );
    limpets.push(
        {
            current     : { x : 430, y: 1686/2-100 },
            screen      : { x : 0, y : 0 },
            direction   : 3
        }
    );
    limpets.push(
        {
            current     : { x : 356, y: 1882/2-100 },
            screen      : { x : 0, y : 0 },
            direction   : 1
        }
    );
    limpets.push(
        {
            current     : { x : 400, y: 1194/2-100 },
            screen      : { x : 0, y : 0 },
            direction   : 2
        }
    );
    limpets.push(
        {
            current     : { x : 316, y: 720/2-100 },
            screen      : { x : 0, y : 0 },
            direction   : 4
        }
    );
    limpets.push(
        {
            current     : { x : 516, y: 716/2-100 },
            screen      : { x : 0, y : 0 },
            direction   : 3
        }
    );
    
    // fuel
    pods.push( {
            current   : { x: 284, y: 1730/2-100 },
            screen    : { x: 0, y: 0 },
            width     : fuel.width,
            height    : fuel.height,
            remaining : fuel.capacity
        });
    pods.push( {
            current   : { x: 308, y: 1730/2-100 },
            screen    : { x: 0, y: 0 },
            width     : fuel.width,
            height    : fuel.height,
            remaining : fuel.capacity
        });
    pods.push( {
            current   : { x: 412, y: 1902/2-100 },
            screen    : { x: 0, y: 0 },
            width     : fuel.width,
            height    : fuel.height,
            remaining : fuel.capacity
        });
    pods.push( {
            current   : { x: 436, y: 1902/2-100 },
            screen    : { x: 0, y: 0 },
            width     : fuel.width,
            height    : fuel.height,
            remaining : fuel.capacity
        });
    
    pods.push( {
            current   : { x: 280, y: 1206/2-100 },
            screen    : { x: 0, y: 0 },
            width     : fuel.width,
            height    : fuel.height,
            remaining : fuel.capacity
        });
    pods.push( {
            current   : { x: 360, y: 346/2-100 },
            screen    : { x: 0, y: 0 },
            width     : fuel.width,
            height    : fuel.height,
            remaining : fuel.capacity
        });
    pods.push( {
            current   : { x: 480, y: 838/2-100 },
            screen    : { x: 0, y: 0 },
            width     : fuel.width,
            height    : fuel.height,
            remaining : fuel.capacity
        });
    pods.push( {
            current   : { x: 508, y: 838/2-100 },
            screen    : { x: 0, y: 0 },
            width     : fuel.width,
            height    : fuel.height,
            remaining : fuel.capacity
        });

    // door
    door = {
        current         : { x: 470, y: 882 },
        screen          : { x: 0, y: 0 },
        widths          : [ 60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60 ],
        type            : door_type.UP_DOWN,
        state           : door_state.CLOSED,
        timer           : 3000,
        switches        : [
                            { current : { x: 520, y: 1860/2-100 }, screen: { x: 0, y: 0 }, left: true  },
                            { current : { x: 472, y: 2160/2-100 }, screen: { x: 0, y: 0 }, left: false } 
                          ],
        offset          : 0,
        offset_limit    : 21 // door.widths.length
    };
     
    // reactor
    reactor.current.x   = 430;
    reactor.current.y   = 810/2-100;

    landscape.colour = '#ff0000';

    // NB: take image, rescale to 1280 horizontal, then halved the x values
    scenery = [

    216,            448,
    216 +  1*4,448,
    216 +  2*4,448,
    216 +  3*4,448,
    216 +  4*4,448,
    216 +  5*4,448,
    216 +  6*4,448,
    216 +  7*4,448,
    216 +  8*4,448,
    216 +  9*4,448,
    216 + 10*4,448,
    216 + 11*4,448,
    216 + 12*4,448,
    216 + 13*4,448,
    216 + 14*4,448,
    216 + 15*4,448,
    216 + 16*4,448,
    216 + 17*4,448,
    216 + 18*4,448,
    216 + 19*4,448,
    216 + 20*4,448,
    
    300,448,
    300,448,
    300,448,
    300,448,
    300,448,
    300,448,
    300,448,
    300,448,
    300,448,
    300,448,
    300,448,
    300,448,
    300,448,
    300,448,
    300,448,
    300,448,
    300,448,
    300,448,
    300,448,
    300,448,
    300,448,
    300,448,
    300,    448,

    392,    448,
    392,    448,
    392,    448,
    392,    448,
    392,    448,
    392,    448,
    392,    448,
    392,    448,
    392,    448,
    392,    448,
    392,    448,
    392,    448,
    392,    448,
    392,    448,
    392,    448,
    392,    448,
    392,    448,
    392,    448,
    392,    448,
    392,    448,
    392,    448,
    392,    448,
    392,    448,
    392,    448,
    392,    448,
    392,    448,
    392,    448,
    392,    448,
    392,    448,
    392,    448,
    392,    448,
    392,    448,
    392,    448,
    392,    448,
    392,    448,
    392,    448,
    392,    448,
    392,    448,
    392,    448,
    392,    448,
    392,    448,
    392,    448,
    392,    448,
    392,    448,
    392,    448,
    392,    448,
    392,    448,
    392,    448,
    392,    448,
    392,    448,
    392,    448,
    392,    448,
    392,    448,
    392,    448,
    392,    448,
    392,    448,
    392,    448,
    392,    448,
    392,    448,
    392,    448,
    392,    448,
    392,    448,
    392,    448,
    392,    448,
    392,    448,
    392,    448,
    392,    448,
    392,    448,
    392,    448,
    392,    448,
    392,    448,
    392,    448,
    392,    448,
    392,    448,
    392,    448,
    392,    448,
    392,    448,
    392,    448,
    392,    448,
    392,    448,
    392,    448,
    392,    448,

    352,    504,
    352 -  1*4, 504 + 1*4,
    352 -  2*4, 504 + 2*4,
    352 -  3*4, 504 + 3*4,
    352 -  4*4, 504 + 4*4,
    352 -  5*4, 504 + 5*4,
    352 -  6*4, 504 + 6*4,
    352 -  7*4, 504 + 7*4,
    352 -  8*4, 504 + 8*4,
    352 -  9*4, 504 + 9*4,
    352 - 10*4, 544,
    352 - 11*4,544,
    
    304,544,
    304,544,
    304,544,
    304,544,
    304,544,
    304,544,
    304,544,
    304,544,
    304,544,
    304,544,
    304,544,
    304,544,
    304,544,
    304,544,
    304,544,
    304,544,
    304,544,
    304,544,
    304,544,
    304,544,
    304,544,
    304,544,
    304,544,
    304,544,
    304,544,
    304,544,
    304,544,
    304,544,
    304,544,
    
    344,400,
    344,400,
    344,400,
    344,400,
    344,400,
    344,400,
    344,400,
    344,400,
    344,400,
    344,400,
    344,400,
    344,400,
    344,400,
    344,400,
    344,400,
    344,400,
    344,400,
    344,400,
    344,400,
    344,400,
    344,400,
    344,400,
    344,400,
    344,400,
    344,400,
    344,400,
    344,400,
    344,400,
    344,400,
    344,400,
    344,400,
    344,400,
    344,400,
    344,400,
    344,400,
    344,400,
    344,400,
    344,400,
    344,400,
    344,400,
    344,400,

    344 -  1*4, 432,
    344 -  2*4, 432,    
    344 -  3*4, 432,    
    344 -  4*4, 432,    
    344 -  5*4, 432,    
    344 -  6*4, 432,    
    344 -  7*4, 432,    
    344 -  8*4, 432,    
    344 -  9*4, 432,    
    344 - 10*4, 432,    
    344 - 11*4, 432,    
    344 - 12*4, 432,    
    344 - 13*4, 432,    
    344 - 14*4, 432,    
    344 - 15*4, 432,    
    344 - 16*4, 432,    
    344 - 17*4, 432,    
    344 - 18*4, 432,    
    344 - 19*4, 432,    
    344 - 20*4, 432,    

    184, 432,
    184, 432,
    184, 432,
    184, 432,
    184, 432,
    184, 432,
    184, 432,
    184, 432,
    184, 432,
    184, 432,
    184, 432,
    184, 432,
    184, 432,
    184, 432,
    184, 432,
    184, 432,
    184, 432,
    184, 432,
    184, 432,
    184, 432,
    184, 432,
    184, 432 -  1*4,
    184, 432 -  2*4,
    184, 432 -  3*4,
    184, 432 -  4*4,
    184, 432 -  5*4,
    184, 432 -  6*4,
    184, 432 -  7*4,
    184, 432 -  8*4,
    184, 432 -  9*4,
    184, 432 - 10*4,
    184, 256,
    184, 256,
    184, 256,
    184, 256,
    184, 256,
    184, 256,
    184, 256,
    184, 256,
    184, 256,
    184, 256,
    184, 256,
    184, 256,
    184, 256,
    184, 256,
    184, 256,
    184, 256,
    184, 256,
    184, 256,
    184, 256,
    184, 256,
    184, 256,
    184, 256,
    184, 256,
    184, 256,
    184, 256,
    184, 256,
    184, 256,
    184, 256,
    184, 256,
    184, 256,
    184, 256,
    184, 256,
    184, 256,
    184, 256,
    184, 256,
    184, 256 +  1*4,
    184, 256 +  2*4,
    184, 256 +  3*4,
    184, 256 +  4*4,
    184, 256 +  5*4,
    184, 256 +  6*4,
    184, 256 +  7*4,
    184, 256 +  8*4,
    184, 256 +  9*4,
    184, 256 + 10*4,
    184, 256 + 11*4,
    184, 256 + 12*4,
    184, 256 + 13*4,
    184, 256 + 14*4,
    184, 256 + 15*4,
    184, 256 + 16*4,
    184, 256 + 17*4,
    184, 256 + 18*4,
    184, 256 + 19*4,
    184, 256 + 20*4,
    184, 256 + 21*4,

    184 +  1*4, 256 + 22*4,
    184 +  2*4, 256 + 23*4,
    184 +  3*4, 256 + 24*4,
    184 +  4*4, 256 + 25*4,
    184 +  5*4, 256 + 26*4,
    184 +  6*4, 256 + 27*4,
    184 +  7*4, 256 + 28*4,
    184 +  8*4, 256 + 29*4,
    184 +  9*4, 256 + 30*4,
    184 + 10*4, 256 + 31*4,
    184 + 11*4, 384,
    184 + 12*4, 384,
    184 + 13*4, 384,
    184 + 14*4, 384,
    184 + 15*4, 384,
    184 + 16*4, 384,
    184 + 17*4, 384,
    184 + 18*4, 384,
    184 + 19*4, 384,
    184 + 20*4, 384,
    
    264, 384,
    264, 384,
    264, 384,
    264, 384,
    264, 384,
    264, 384,
    264, 384,
    264, 384,
    264, 384,
    264, 384,
    264, 384,
    264, 384,
    264, 384,
    264, 384,

    224, 384,
    224, 384,
    224, 384,
    224, 384,
    224, 384,
    224, 384,
    224, 384,
    224, 384,
    224, 384,
    224, 384,
    224, 384,
    224, 384,
    224, 384,
    224, 384,
    224, 384,
    224, 384,
    224, 384,
    224, 384,
    224, 384,
    224, 384,
    224, 384,
    224, 424,
    224, 424 + 1*4,
    224, 424 + 2*4,
    224, 424 + 3*4,
    224, 424 + 4*4,
    224, 424 + 5*4,
    224, 424 + 6*4,
    224, 424 + 7*4,
    
    224 +  1*4, 424 + 8*4,
    224 +  2*4, 424 + 9*4,
    224 +  3*4, 464,
    224 +  4*4, 464,
    224 +  5*4, 464,
    224 +  6*4, 464,
    224 +  7*4, 464,
    224 +  8*4, 464,
    224 +  9*4, 464,
    224 + 10*4, 464,
    224 + 11*4, 464,
    224 + 12*4, 464,

    344, 464,
    344, 464,
    344, 464,
    344, 464,
    344, 464,
    344, 464,
    344, 464,
    344, 464,
    344, 464,
    344, 464,
    344, 464,
    344, 464,
    344, 464,
    344, 528,
    344, 528,
    344, 528,
    344, 528,
    344, 528,
    344, 528,
    344, 528,
    344, 528,
    344, 528,
    344, 528,
    344, 528,
    344, 528,
    344, 528,
    344, 528,
    344, 528,
    344, 528,
    344, 528,
    344, 528,
    
    344 +  1*4, 528,
    344 +  2*4, 528,
    344 +  3*4, 528,
    344 +  4*4, 528,
    344 +  5*4, 528,
    344 +  6*4, 528,
    344 +  7*4, 528,
    344 +  8*4, 528,
    344 +  9*4, 528,
    344 + 10*4, 528,
    344 + 11*4, 528,
    344 + 12*4, 528,
    
    472, 528,
    472, 528,
    472, 528,
    472, 528,
    472, 528,
    472, 528,
    472, 528,
    472, 528,
    472, 528,
    472, 528,
    472, 528,
    472, 528,
    472, 528,
    472, 528,
    472, 528,
    472, 528,
    472, 528,
    472, 528,
    472, 528,
    472, 528,
    472, 528,
    472, 528,
    472, 528,
    472, 528,
    472, 528,
    472, 528,
    472, 528,
    472, 528,
    472, 528,
    472, 528,
    472, 528,
    472, 528,
    472, 528,
    472, 528 +  1*4,
    472, 528 +  2*4,
    472, 528 +  3*4,
    472, 528 +  4*4,
    472, 528 +  5*4,
    472, 528 +  6*4,
    472, 528 +  7*4,
    472, 528 +  8*4,
    472, 528 +  9*4,
    472, 528 + 10*4,
    472, 528 + 11*4,
    472, 528 + 12*4,
    472, 528 + 13*4,
    472, 528 + 14*4,
    472, 528 + 15*4,
    472, 592,
    472, 592,
    472, 592,
    472, 592,
    472, 592,
    472, 592,
    472, 592,
    472, 592,
    472, 592,
    472, 592,
    472, 592,
    472, 592,
    472, 592,
    472, 592,
    472, 592,
    472, 592,
    472, 592,
    472, 592,
    472, 592,
    472, 592,
    472, 592,
    472, 592,
    472, 592,
    472, 592,
    472, 592,
    472, 592,
    472, 592,
    472, 592,
    472, 592,
    472, 592,
    472, 592,
    472, 592 - 1*4,
    472, 592 - 2*4,
    472, 592 - 3*4,
    472, 592 - 4*4,
    
    472 + 1*4, 592 -  5*4,
    472 + 2*4, 592 -  6*4,
    472 + 3*4, 592 -  7*4,
    472 + 4*4, 592 -  8*4,
    472 + 5*4, 592 -  9*4,
    472 + 6*4, 592 - 10*4,
    472 + 7*4, 592 - 11*4,
    472 + 8*4, 592 - 12*4
    
    

];

}

function level_6() {
    
    // ship
    ship.current.x      = 400;
    ship.current.y      = -canvas.height / 4;
    ship.previous.x     = ship.current.x;
    ship.previous.y     = ship.current.y;
    
    landscape.x = ship.current.x - canvas.width / 2;
    landscape.y = ship.current.y - canvas.height / 2;
   
    // ball
    ball.current.x      = 576;
    ball.current.y      = 2668/2-100;
    ball.previous.x     = ball.current.x;
    ball.previous.y     = ball.current.y;

    // limpets
    limpets.push(
        {
            current     : { x : 560, y: 508/2-100 },
            screen      : { x : 0, y : 0 },
            direction   : 3
        }
    );
    limpets.push(
        {
            current     : { x : 562, y: 940/2-100 },
            screen      : { x : 0, y : 0 },
            direction   : 4
        }
    );
    limpets.push(
        {
            current     : { x : 756, y:  964/2-100 },
            screen      : { x : 0, y : 0 },
            direction   : 3
        }
    );
    limpets.push(
        {
            current     : { x : 630, y: 1140/2-100 },
            screen      : { x : 0, y : 0 },
            direction   : 2
        }
    );
    limpets.push(
        {
            current     : { x : 620, y: 1372/2-100 },
            screen      : { x : 0, y : 0 },
            direction   : 3
        }
    );
    limpets.push(
        {
            current     : { x : 636, y: 1494/2-100 },
            screen      : { x : 0, y : 0 },
            direction   : 2
        }
    );
    limpets.push(
        {
            current     : { x : 444, y: 1860/2-100 },
            screen      : { x : 0, y : 0 },
            direction   : 4
        }
    );
    limpets.push(
        {
            current     : { x : 568, y: 1924/2-100 },
            screen      : { x : 0, y : 0 },
            direction   : 3
        }
    );
    
    limpets.push(
        {
            current     : { x : 607, y: 2260/2-100 },
            screen      : { x : 0, y : 0 },
            direction   : 4
        }
    );
    limpets.push(
        {
            current     : { x : 567, y: 2428/2-100 },
            screen      : { x : 0, y : 0 },
            direction   : 4
        }
    );
    limpets.push(
        {
            current     : { x : 648, y: 2510/2-100 },
            screen      : { x : 0, y : 0 },
            direction   : 2
        }
    );
    
    // fuel
    pods.push( {
            current   : { x: 720, y: 1066/2-100 },
            screen    : { x: 0, y: 0 },
            width     : fuel.width,
            height    : fuel.height,
            remaining : fuel.capacity
        });
    pods.push( {
            current   : { x: 564, y: 1710/2-100 },
            screen    : { x: 0, y: 0 },
            width     : fuel.width,
            height    : fuel.height,
            remaining : fuel.capacity
        });

    // door
    door = {
        current         : { x: 640, y: 2236/2-100-24 },
        screen          : { x: 0, y: 0 },
        widths          : [ 82,86,90,94,98,102,106, 110, 106,102,98,94,90,86,82 ],
        type            : door_type.LEFT_RIGHT,
        state           : door_state.CLOSED,
        timer           : 3000,
        switches        : [
                            { current : { x: 707, y: 2110/2-100 }, screen: { x: 0, y: 0 }, left: true  },
                            { current : { x: 592, y: 2338/2-100 }, screen: { x: 0, y: 0 }, left: false } 
                          ],
        offset          : 0,
        offset_limit    : 80 // door.widths.length
    };
     
    // reactor
    reactor.current.x   = 614;
    reactor.current.y   = 2766/2-100;

    landscape.colour = '#ff00ff';

    // NB: take image, rescale to 1280 horizontal, then halved the x values
    scenery = [

    256,    676,
    256,    676 -  1*4,
    256,    676 -  2*4,
    256,    676 -  3*4,
    256,    676 -  4*4,
    256,    676 -  5*4,
    256,    676 -  6*4,
    256,    676 -  7*4,
    256,    676 -  8*4,
    256,    676 -  9*4,
    256,    676 - 10*4,
    256,    676 - 11*4,
    256,    676 - 12*4,
    256,    676 - 13*4,
    256,    676 - 14*4,
    256,    676 - 15*4,
    256,    676 - 16*4,
    256,    676 - 17*4,
    256,    676 - 18*4,
    256,    676 - 19*4,
    256,    676 - 20*4,
    256,    676 - 21*4,
    256,    676 - 22*4,
    256,    676 - 23*4,
    256,    676 - 24*4,
    256,    676 - 25*4,
    256,    676 - 26*4,
    256,    676 - 27*4,
    256,    676 - 28*4,
    256,    676 - 29*4,
    256,    676 - 30*4,
    256,    676 - 31*4,
    256,    676 - 32*4,
    256,    676 - 33*4,
    256,    676 - 34*4,
    256,    676 - 35*4,
    256,    676 - 36*4,
    256,    676 - 37*4,
    256,    676 - 38*4,
    256,    676 - 39*4,
    256,    676 - 40*4,
    256,    676 - 41*4,
    256,    676 - 42*4,
    256,    504,
    256,    504,
    256,    504,
    256,    504,
    256,    504,
    256,    504,
    256,    504,
    256,    504,
    256,    504,
    256,    504,
    256,    504,
    256,    504,
    256,    504,
    256,    504,
    256,    504,
    256,    504,
    256,    504,
    256,    504,
    256,    504,
    256,    504,
    
    348 +  0*4,    504,
    348 +  1*4,    504 +  1*4,
    348 +  2*4,    504 +  2*4,
    348 +  3*4,    504 +  3*4,
    348 +  4*4,    504 +  4*4,
    348 +  5*4,    504 +  5*4,
    348 +  6*4,    504 +  6*4,
    348 +  7*4,    504 +  7*4,
    348 +  8*4,    504 +  8*4,
    348 +  9*4,    504 +  9*4,
    348 + 10*4,    504 + 10*4,
    348 + 11*4,    504 + 11*4,
    348 + 12*4,    504 + 12*4,
    348 + 13*4,    504 + 13*4,
    348 + 14*4,    504 + 14*4,
    348 + 15*4,    504 + 15*4,
    348 + 16*4,    504 + 16*4,
    348 + 17*4,    504 + 17*4,
    348 + 18*4,    504 + 18*4,
    348 + 19*4,    504 + 19*4,
    348 + 20*4,    504 + 20*4,
    348 + 21*4,    504 + 21*4,
    348 + 22*4,    504 + 22*4,
    348 + 23*4,    504 + 23*4,
    348 + 24*4,    504 + 24*4,
    348 + 25*4,    504 + 25*4,
    348 + 26*4,    504 + 26*4,
    348 + 27*4,    504 + 27*4,
    348 + 28*4,    504 + 28*4,
    348 + 29*4,    504 + 29*4,
    348 + 30*4,    504 + 30*4,
    348 + 31*4,    504 + 31*4,
    348 + 32*4,    504 + 32*4,
    348 + 33*4,    504 + 33*4,
    348 + 34*4,    504 + 34*4,
    348 + 35*4,    504 + 35*4,
    348 + 36*4,    504 + 36*4,
    348 + 37*4,    504 + 37*4,
    348 + 38*4,    504 + 38*4,
    348 + 39*4,    504 + 39*4,
    348 + 40*4,    504 + 40*4,
    348 + 41*4,    504 + 41*4,
    348 + 42*4,    504 + 42*4,
    348 + 43*4,    504 + 43*4,
    348 + 44*4,    504 + 44*4,
    348 + 45*4,    504 + 45*4,
    348 + 46*4,    504 + 46*4,
    348 + 47*4,    504 + 47*4,
    348 + 48*4,    504 + 48*4,
    348 + 49*4,    504 + 49*4,
    348 + 50*4,    504 + 50*4,
    348 + 51*4,    504 + 51*4,
    348 + 52*4,    504 + 52*4,
    348 + 53*4,    504 + 53*4,
    348 + 54*4,    504 + 54*4,
    348 + 55*4,     724,
    348 + 56*4,     724,
    348 + 57*4,     724,
    348 + 58*4,     724,
    348 + 59*4,     724,
    348 + 60*4,     724,
    348 + 61*4,     724,
    348 + 62*4,     724,
    348 + 63*4,     724,
    348 + 64*4,     724,
    348 + 65*4,     724,
    348 + 66*4,     724,
    348 + 67*4,     724,
    348 + 68*4,     724,
    348 + 69*4,     724,
    348 + 70*4,     724,
    348 + 71*4,     724,
    348 + 72*4,     724,
    348 + 73*4,     724,
    348 + 74*4,     724,
    348 + 75*4,     724,
    348 + 76*4,     724,
    348 + 77*4,     724,
    348 + 78*4,     724,
    348 + 79*4,     724,
    
    668,     724,
    668,     724,
    668,     724,
    668,     724,
    668,     724,
    668,     724,
    668,     724,
    668,     724,
    668,     724,
    668,     724,
    668,     724,
    668,     724,
    668,     724,
    668,     724,
    668,     724,
    668,     724,
    668,     724,
    668,     724,
    668,     724,
    668,     724,
    668,     724,
    668,     724,
    668,     724,
    668,     724,
    668,     724,
    668,     724,
    668,     724,
    668,     724,
    668,     724,
    668,     724,
    668,     724,
    668,     724,
    668,     724,
    668,     724,
    668,     724,
    668,     724,
    668,     724,
    668,     724,
    668,     724,
    668,     724,
    668,     724,
    
    588,              724 +  1*4,
    588 - 1*4,        724 +  2*4,
    588 - 2*4,        724 +  3*4,
    588 - 3*4,        724 +  4*4,
    588 - 4*4,        724 +  5*4,
    588 - 5*4,        724 +  6*4,
    588 - 6*4,        724 +  7*4,
    588 - 7*4,        724 +  8*4,
    588 - 8*4,        724 +  9*4,
    588 - 9*4,        724 + 10*4,
    
    548,        724 + 11*4,
    548,        724 + 12*4,
    548,        724 + 13*4,
    548,        724 + 14*4,
    548,        724 + 15*4,
    548,        724 + 16*4,
    548,        724 + 17*4,
    548,        724 + 18*4,
    548,        724 + 19*4,
    548,    804,
    548,    804,
    548,    804,
    548,    804,
    548,    804,
    548,    804,
    548,    804,
    548,    804,
    548,    804,
    548,    804,
    548,    804,
    548,    804,
    548,    804,
    548,    804,
    548,    804,
    548,    804,
    548,    804,
    548,    804,
    548,    804,
    548,    804,
    548,    804,
    548,        704 -  0*4,
    548,        704 -  1*4,
    548,        704 -  2*4,
    548,        704 -  3*4,
    548,        704 -  4*4,
    548,        704 -  5*4,
    548,        704 -  6*4,
    548,        704 -  7*4,
    548,        704 -  8*4,
    548,        704 -  9*4,
    548,        704 - 10*4,
    548,        704 - 11*4,
    548,        704 - 12*4,
    548,        704 - 13*4,
    548,        704 - 14*4,
    548,        704 - 15*4,
    548,        704 - 16*4,
    548,        704 - 17*4,
    548,        704 - 18*4,
    548,        704 - 19*4,
    548,        704 - 20*4,
    548,        704 - 21*4,
    548,        704 - 22*4,
    548,        704 - 23*4,
    548,        704 - 24*4,
    548,        704 - 25*4,
    548,        704 - 26*4,
    548,        704 - 27*4,
    548,    592,
    548,    592,
    548,    592,
    548,    592,
    548,    592,
    548,    592,
    548,    592,
    548,    592,
    548,    592,
    548,    592,
    548,    592,
    548,    592,
    548,    592,
    548,    592,
    548,    592,
    548,    592,
    548,    592,
    548,    592,
    548,    592,
    548,    592,
    548,    592,
    548,    592,
    548,    592,
    548,    592,
    548,    592,
    548,    592,
    548,    592,
    548,    592,
    548,    592,
    548,    592,
    548,    592,
    548,    592,
    548,    592,
    548,    592,
    548,    592,
    548,    592 +  1*4,
    548,    592 +  2*4,
    548,    592 +  3*4,
    548,    592 +  4*4,
    548,    592 +  5*4,
    548,    592 +  6*4,
    548,    592 +  7*4,
    548,    592 +  8*4,
    548,    592 +  9*4,
    548,    592 + 10*4,
    548,    592 + 11*4,
    548,    592 + 12*4,
    548,    592 + 13*4,
    548,    592 + 14*4,
    548,    592 + 15*4,
    548,    592 + 16*4,
    548,    592 + 17*4,
    548,    592 + 18*4,
    548,    592 + 18*4,
    548,    592 + 18*4,
    548,    592 + 18*4,
    548,    592 + 18*4,
    548,    592 + 18*4,
    548,    592 + 18*4,
    548,    592 + 18*4,
    548,    592 + 18*4,
    548,    592 + 18*4,
    548,    592 + 18*4,
    548,    592 + 18*4,
    548,    592 + 18*4,
    548,    592 + 18*4,
    548,    592 + 18*4,
    548,    592 + 18*4,
    548,    592 + 18*4,
    548,    592 + 18*4,
    548,    592 + 18*4,
    548,    592 + 18*4,
    548,    592 + 18*4,
    548,    592 + 17*4,
    548,    592 + 16*4,
    548,    592 + 15*4,
    548,    592 + 14*4,
    548,    592 + 13*4,
    548,    592 + 12*4,
    548,    592 + 11*4,
    548,    592 + 10*4,
    548,    592 +  9*4,
    548,    624,
    548,    624,
    548,    624,
    548,    624,
    548,    624,
    548,    624,
    548,    624,
    548,    624,
    548,    624,
    548,    624,
    548,    624,
    548,    624,
    548,    624,
    548,    624,
    548,    624,
    548,    624,
    548,    624,
    548,    624,
    548,    624,
    548,    624,
    548,    624,
    548,    624,
    548,    624,
    
    480,    624,
    480,    624,
    480,    624,
    480,    624,
    480,    624,
    480,    624,
    480,    624,
    480,    624,
    480,    624,
    480,    624,
    480,    624,
    480,    624,
    480,    624,
    480,    624,
    480,    624,
    480,    624,
    480,    624,
    480,    624,
    480,    624,
    480,    624,
    480,    624,
    480,    624,
    480,    624,
    480,    624,
    480,    624,
    480,    624,
    480,    624,
    480,    624,
    480,    540,
    480,    540,
    480,    540,
    480,    540,
    480,    540,
    480,    540,
    480,    540,
    480,    540,
    480,    540,
    480,    540,
    480,    540,
    480,    540,
    480,    540,
    480,    540,
    480,    540,
    480,    540,
    480,    540,
    480,    540,
    480,    540,
    480,    540,
    480,    540,
    480,    540,
    480,    540,
    480,    540,
    480,    540,
    480,    540,
    480,    540,

    480 -  1*4,    540,
    480 -  2*4,    540,
    480 -  3*4,    540,
    480 -  4*4,    540,
    480 -  5*4,    540,
    480 -  6*4,    540,
    480 -  7*4,    540,
    480 -  8*4,    540,
    480 -  9*4,    540,
    480 - 10*4,    540,
    480 - 11*4,    540,
    480 - 12*4,    540,

    428,    540,
    428,    540 +  1*4,
    428,    540 +  2*4,
    428,    540 +  3*4,
    428,    540 +  4*4,
    428,    540 +  5*4,
    428,    540 +  6*4,
    428,    540 +  7*4,
    428,    540 +  8*4,
    428,    540 +  9*4,
    428,    540 + 10*4,
    428,    540 + 11*4,
    428,    540 + 12*4,
    428,    540 + 13*4,
    428,    540 + 14*4,
    428,    540 + 15*4,
    428,    540 + 16*4,
    428,    540 + 17*4,
    428,    540 + 18*4,
    428,    540 + 19*4,
    428,    540 + 20*4,
    
    428 +  1*4,    540 + 21*4,
    428 +  2*4,    540 + 22*4,
    428 +  3*4,    540 + 23*4,
    428 +  4*4,    540 + 24*4,
    428 +  5*4,    540 + 25*4,
    428 +  6*4,    540 + 26*4,
    428 +  7*4,    540 + 27*4,
    428 +  8*4,    540 + 28*4,
    428 +  9*4,    540 + 29*4,
    428 + 10*4,    540 + 30*4,
    428 + 11*4,    540 + 31*4,
    428 + 12*4,    540 + 32*4,
    428 + 13*4,    540 + 33*4,
    428 + 14*4,    540 + 34*4,
    428 + 15*4,    540 + 35*4,
    428 + 16*4,    540 + 36*4,
    428 + 17*4,    540 + 37*4,
    428 + 18*4,    540 + 38*4,
    428 + 19*4,    540 + 39*4,
    428 + 20*4,    540 + 40*4,
    428 + 21*4,    540 + 41*4,
    428 + 22*4,    540 + 42*4,
    428 + 23*4,    540 + 43*4,
    428 + 24*4, 716,
    428 + 25*4, 716,
    428 + 26*4, 716,
    428 + 27*4, 716,
    428 + 28*4, 716,
    428 + 29*4, 716,
    428 + 30*4, 716,
    428 + 31*4, 716,
    428 + 32*4, 716,
    428 + 33*4, 716,
    428 + 34*4, 716,
    428 + 35*4, 716,
    428 + 36*4, 716,
    428 + 37*4, 716,
    428 + 38*4, 716,
    428 + 39*4, 716,
    428 + 40*4, 716,
    428 + 41*4, 716,
    428 + 42*4, 716,
    428 + 43*4, 716,
    428 + 44*4, 716,
    428 + 45*4, 716,
    428 + 46*4, 716,
    428 + 47*4, 716,
    428 + 48*4, 716,
    428 + 49*4, 716,
    428 + 50*4, 716,
    428 + 51*4, 716,
    428 + 52*4, 716,
    
    428 + 53*4, 716 + 1*4,
    428 + 53*4, 716 + 2*4,
    428 + 53*4, 716 + 3*4,
    428 + 53*4, 716 + 4*4,
    428 + 53*4, 716 + 5*4,
    428 + 53*4, 716 + 6*4,
    428 + 53*4, 716 + 7*4,
    428 + 53*4, 716 + 8*4,
    428 + 53*4, 716 + 7*4,
    428 + 53*4, 716 + 6*4,
    428 + 53*4, 716 + 5*4,
    428 + 53*4, 716 + 4*4,
    428 + 53*4, 716 + 3*4,
    428 + 53*4, 716 + 2*4,
    428 + 53*4, 716 + 1*4,
    
    428 + 52*4, 716,
    428 + 51*4, 716,
    428 + 50*4, 716,
    428 + 49*4, 716,
    428 + 48*4, 716,
    428 + 47*4, 716,
    428 + 46*4, 716,
    428 + 45*4, 716,
    428 + 44*4, 716,
    428 + 43*4, 716,
    428 + 42*4, 716,
    428 + 41*4, 716,
    
    592, 716,
    592, 716,
    592, 716,
    592, 716,
    592, 716,
    592, 716,
    592, 716,
    592, 716,
    592, 716,
    592, 716,
    592, 716,
    592, 716,
    592, 716,
    592, 716,
    592, 716,
    592, 716,
    592, 716,
    592, 716,
    592, 716,
    592, 716,
    592, 716,
    592, 716,
    592, 716,
    592, 716,
    592, 716,
    592, 716,
    592, 716,
    592, 716,
    592, 716,
    592, 716,
    592, 716,
    592, 716,
    
    592 - 1*4, 716,
    592 - 2*4, 716,
    592 - 3*4, 716,
    592 - 4*4, 716,
    592 - 5*4, 716,
    592 - 6*4, 716,
    592 - 7*4, 716,
    592 - 8*4, 716,
    592 - 9*4, 716,
    
    552, 716,
    552, 716,
    552, 716,
    552,    716 -  1*4,
    552,    716 -  2*4,
    552,    716 -  3*4,
    552,    716 -  4*4,
    552,    716 -  5*4,
    552,    716 -  6*4,
    552,    716 -  7*4,
    552,    716 -  8*4,
    552,    716 -  9*4,
    552,    716 - 10*4,
    552,    716 - 11*4,
    552,    716 - 12*4,
    552,    716 - 13*4,
    552,    716 - 14*4,
    552,    716 - 15*4,
    552,    716 - 16*4,
    552,    716 - 17*4,
    552,    716 - 18*4,
    552,    716 - 19*4,
    552,    716 - 20*4,
    552,    716 - 21*4,
    552,    716 - 22*4,
    552,    716 - 23*4,
    552,    716 - 24*4,
    552,    716 - 25*4,
    552,    716 - 26*4,
    552,    716 - 27*4,
    552,    604,
    552,    604,
    552,    604,
    552,    604,
    552,    604,
    552,    604,
    552,    604,
    552,    604,
    552,    604,
    552,    604,
    552,    604,
    552,    604,
    552,    604,
    552,    604,
    552,    604,
    552,    604,
    552,    604,
    552,    604,
    552,    604,
    552,    604,
    552,    604,
    552,    604,
    552,    604,
    552,    604,
    552,    604,
    552,    604,
    552,    604,
    552,    604,
    552,    604,

    596,    604,    
    596,        604,
    596,        604,
    596,        604,
    596,        604,
    596,        604,
    596,        604,
    596,        604,
    596,    656,
    596,        656,
    596,        656,
    596,        656,
    596,        656,
    596,        656,
    596,        656,
    596,        656,
    596,        656,
    596,        656,
    596,        656,
    596,        656,
    596,        656,
    596,        656,
    596,        656,
    596,        656,
    596,        656,
    596,        656,
    596,        656,
    596,        656,
    596,        656,
    596,        656,
    596,    656

];

}
